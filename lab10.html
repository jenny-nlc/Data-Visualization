<html>
<head>
    <title>"Line chart"</title>
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8">
    </script>
    
</head>
<body>
    <button id="start">Start Animation</button>
    <script>
        var width=1000;
        var height=500;
        var padding=80;
        var s = d3.scale.linear();
        console.log(s(200));
        console.log(s.domain([100, 500]));
        console.log(s.range([10, 100]));
        console.log(s(200));
        var svg = d3.select("body")
        .append("svg")
        .attr("width", width+100)
        .attr("height", height+10);

          d3.csv("spanish-silver.csv", function(data) {
              var xmax = d3.max(data, function(d) {return d.year; });
              var xmin = d3.min(data, function(d) {return d.year; });
              var xScale = d3.scale.linear()
             	.domain([xmin, xmax])
             	.range([padding, width - padding])
				.nice();
              var ymax=d3.max(data,function(d){return +d.silver_minted;});
              var ymin=d3.min(data,function(d){return +d.silver_minted;});
              
              var rmax=d3.max(data,function(d){return +d.co2_emission;});;
              var yscale=d3.scale.linear()
              .domain([ymin,ymax])
              .range([height-padding,padding])
              .nice();
              console.log(yscale);
              var rscale=d3.scale.linear()
              .domain([0,rmax])
              .range([0,10])
              
              
            var xAxis = d3.svg.axis()
            .scale(xScale)
            .orient("bottom");  
              
              
              
            svg.append("g")
   .attr("class", "x axis")
   .attr("transform", "translate(0," + (height - padding) +")")
   .call(xAxis);
              
                        svg.append("text")      // text label for the x axis
        .attr("x", padding+440)
        .attr("y",  padding+385)
        .style("text-anchor", "middle")
        .text("Year");
              
              
           var yAxis = d3.svg.axis()
           .scale(yscale)
           .orient("left");
              
           svg.append("g")
   .attr("class", "y axis")
   .attr("transform", "translate(" + (padding) +",0)")
   .call(yAxis);   
                         
 
            
            var line = d3.svg.line()
    .x(function(d) { return xScale(d.year); })
    .y(function(d) { return yscale(d.silver_minted); })
    .interpolate("linear");
              
              
              var path = svg.append("path")
    .attr("class", "line")
    .attr("d", line(data))
    .attr("stroke", "steelblue")
    .attr("fill", "none");
              
   
              
              d3.select("#start").on("click", function() {
 var totalLength = path.node().getTotalLength();
              
    path
.attr("stroke-dasharray", totalLength + " " + totalLength)
.attr("stroke-dashoffset", totalLength)
.transition() 
.duration(5000) 
.ease("linear") 
.attr("stroke-dashoffset", 0); 
                  


});
              
              
        });
</script>    
</body>    
</html>
